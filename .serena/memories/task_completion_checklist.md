# Akyodex - タスク完了時のチェックリスト

## コード変更時のチェック項目

### 必須確認事項
- [ ] **TypeScriptエラーなし**: `tsc --noEmit` で型チェック通過
- [ ] **JavaScript構文OK**: `node -c` で構文チェック通過
- [ ] **機能テスト**: ブラウザで実際の動作確認
- [ ] **レスポンシブ対応**: PC・タブレット・スマホで確認
- [ ] **アクセシビリティ**: キーボード操作・スクリーンリーダー対応

### 機能別チェックリスト

#### お気に入り機能変更時
- [ ] お気に入り登録/解除が動作する
- [ ] お気に入り数はリアルタイムで更新される
- [ ] お気に入りのみフィルターが機能する
- [ ] LocalStorageへの保存が確認される

#### 検索・フィルター機能変更時
- [ ] フリーワード検索が動作する
- [ ] 属性・作者フィルターが機能する
- [ ] クイックフィルター（ランダム・お気に入り）が動作する
- [ ] フィルター解除時の状態復帰を確認

#### 画像関連機能変更時
- [ ] 画像の遅延読み込みが機能する
- [ ] フォールバック処理が適切に動作する
- [ ] マニフェストからの画像取得を確認
- [ ] キャッシュクリア機能を確認

#### 管理者機能変更時
- [ ] 認証が適切に機能する
- [ ] 新規登録・編集・削除が動作する
- [ ] CSV自動更新が確認される
- [ ] ID自動圧縮機能が動作する

## デプロイ前のチェック項目

### 本番デプロイ前
- [ ] **環境変数確認**: Cloudflare Pagesで必要な環境変数が設定済み
- [ ] **ドメイン設定**: カスタムドメイン（akyodex.com）がアクティブ
- [ ] **画像配信設定**: R2バケットが公開設定でカスタムドメイン設定済み
- [ ] **マニフェスト確認**: `/api/manifest` が正しいデータを返す
- [ ] **認証確認**: 管理者パスワードでログインできる

### デプロイ後確認
- [ ] **サイトアクセス**: `https://akyodex.com` が正常に表示される
- [ ] **画像表示**: Akyo画像が正しく表示される
- [ ] **管理者機能**: 認証・アップロード機能が動作する
- [ ] **レスポンシブ**: 各種デバイスで正しく表示される

## パフォーマンスチェック

### ロード時間確認
- [ ] **初回ロード**: ページ読み込み速度を測定
- [ ] **画像読み込み**: 遅延読み込みが適切に機能する
- [ ] **キャッシュ効果**: 2回目以降の高速化を確認

### メモリ使用量確認
- [ ] **IndexedDBサイズ**: 画像キャッシュのサイズを確認
- [ ] **メモリリークなし**: 長時間使用時のメモリ増加を確認

## セキュリティチェック

### 認証・認可
- [ ] **パスワード保護**: 管理者機能が適切に保護されている
- [ ] **CORS設定**: 許可されたオリジンのみアクセス可能
- [ ] **レート制限**: APIエンドポイントにレート制限が適用されている

### データ保護
- [ ] **入力検証**: すべてのユーザー入力が適切に検証・サニタイズされている
- [ ] **XSS対策**: HTMLエスケープが適切に行われている
- [ ] **CSRF対策**: 適切なトークン管理が行われている

## テストケース

### 基本機能テスト
- [ ] 新規Akyoの登録・表示・編集・削除
- [ ] お気に入り登録・解除・フィルター表示
- [ ] 検索機能（キーワード・アトリビュート・作者）
- [ ] グリッド・リストビューの切替

### エラーケーステスト
- [ ] 無効なデータ入力時のエラーハンドリング
- [ ] ネットワークエラー時のフォールバック動作
- [ ] 認証エラー時の適切なエラー表示
- [ ] 画像読み込みエラー時のフォールバック表示

## ドキュメント更新

### 変更を伴う場合
- [ ] **README.md更新**: 新機能や変更点の説明を追加
- [ ] **CLAUDE.md更新**: 開発ガイドラインの更新
- [ ] **コメント追加**: 複雑なロジックに適切なコメントを追加

## 最終確認

- [ ] **全ブラウザテスト**: Chrome/Firefox/Safari/Edgeで動作確認
- [ ] **モバイルテスト**: iOS/Androidでレスポンシブ動作確認
- [ ] **アクセシビリティテスト**: キーボード操作とスクリーンリーダー対応確認
- [ ] **パフォーマンステスト**: Lighthouseスコアを確認（90点以上を目指す）

---
*このチェックリストはタスク完了時に必ず確認してください。品質確保のため、すべての項目をチェックすることを推奨します。*